# æœåŠ¡åŒ–ç²¾åº¦æµ‹è¯„
åœ¨æœåŠ¡åŒ–éƒ¨ç½²ç¯å¢ƒï¼Œé€šè¿‡æ ‡å‡†åŒ–è¯·æ±‚å¯¹æ¯”æ¨¡å‹è¾“å‡ºä¸æ ‡å‡†ç­”æ¡ˆï¼Œè¯„ä¼°å®é™…æœåŠ¡åœºæ™¯ä¸‹çš„å‡†ç¡®ç‡ã€‚æ”¯æŒå¤šç§æ•°æ®é›†ä¸åç«¯é…ç½®ï¼Œä¾¿äºå¯¹æ¯”ä¸åŒæœåŠ¡åŒ–æ–¹æ¡ˆçš„æ¨¡å‹ç²¾åº¦ã€‚

## æœåŠ¡åŒ–ç²¾åº¦æµ‹è¯„å‰ç½®çº¦æŸ
åœ¨æ‰§è¡ŒæœåŠ¡åŒ–æ¨ç†å‰ï¼Œéœ€è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š

- å¯è®¿é—®çš„æœåŠ¡åŒ–æ¨¡å‹æœåŠ¡ï¼šç¡®ä¿æœåŠ¡è¿›ç¨‹å¯åœ¨å½“å‰ç¯å¢ƒä¸‹ç›´æ¥è®¿é—®ã€‚
- æ•°æ®é›†ä»»åŠ¡å‡†å¤‡ï¼š
    - å¼€æºæ•°æ®é›†ï¼šä»ğŸ“š [å¼€æºæ•°æ®é›†](../all_params/datasets.md#å¼€æºæ•°æ®é›†)ä¸­é€‰æ‹©æ•°æ®é›†ï¼Œå¹¶ä¸”åœ¨æ•°æ®é›†å¯¹åº”çš„"è¯¦ç»†ä»‹ç»"æ–‡æ¡£ä¸­é€‰æ‹©è¦æ‰§è¡Œçš„æ•°æ®é›†ä»»åŠ¡ã€‚å‚è€ƒé€‰å–çš„æ•°æ®é›†ä»»åŠ¡å¯¹åº”çš„"è¯¦ç»†ä»‹ç»"æ–‡æ¡£å‡†å¤‡å¥½æ•°æ®é›†æ–‡ä»¶ï¼Œå»ºè®®å°†å¼€æºæ•°æ®é›†æ‰‹åŠ¨æ”¾ç½®åœ¨é»˜è®¤ç›®å½• `ais_bench/datasets/`ä¸‹ï¼Œç¨‹åºå°†åœ¨ä»»åŠ¡æ‰§è¡Œæ—¶è‡ªåŠ¨åŠ è½½æ•°æ®é›†æ–‡ä»¶ã€‚
    - è‡ªå®šä¹‰æ•°æ®é›†ï¼šæ— éœ€æŒ‡å®šæ•°æ®é›†ä»»åŠ¡ï¼Œå…¶ä»–é…ç½®å‚è€ƒğŸ“š [è‡ªå®šä¹‰æ•°æ®é›†](../../advanced_tutorials/custom_dataset.md)ã€‚
- æ¨¡å‹ä»»åŠ¡å‡†å¤‡ï¼šä»ğŸ“š [æœåŠ¡åŒ–æ¨ç†åç«¯](../all_params/models.md#æœåŠ¡åŒ–æ¨ç†åç«¯)ä¸­é€‰æ‹©è¦æ‰§è¡Œçš„æ¨¡å‹ä»»åŠ¡ã€‚

## ä¸»è¦åŠŸèƒ½åœºæ™¯
### å•ä»»åŠ¡æµ‹è¯„
è¯·å‚è€ƒä¸»é¡µğŸ“š [å¿«é€Ÿå…¥é—¨](../../get_started/quick_start.md)ï¼Œä¸åšèµ˜è¿°ã€‚

### å¤šä»»åŠ¡æµ‹è¯„
æ”¯æŒåŒæ—¶é…ç½®å¤šä¸ªæ¨¡å‹æˆ–å¤šä¸ªæ•°æ®é›†ä»»åŠ¡ï¼Œé€šè¿‡å•æ¬¡å‘½ä»¤è¿›è¡Œæ‰¹é‡æµ‹è¯„ï¼Œé€‚ç”¨äºå¤§è§„æ¨¡æ¨¡å‹æ¨ªå‘å¯¹æ¯”æˆ–å¤šæ•°æ®é›†ç²¾åº¦å¯¹æ¯”åˆ†æã€‚
#### å‘½ä»¤è¯´æ˜
ç”¨æˆ·å¯é€šè¿‡`--models`å’Œ`--datasets`å‚æ•°æŒ‡å®šå¤šä¸ªé…ç½®ä»»åŠ¡ï¼Œå­ä»»åŠ¡æ•°ä¸º`--models`é…ç½®ä»»åŠ¡æ•°å’Œ`--datasets`é…ç½®ä»»åŠ¡æ•°çš„ä¹˜ç§¯ï¼Œå³ä¸€ä¸ªæ¨¡å‹é…ç½®å’Œä¸€ä¸ªæ•°æ®é›†é…ç½®ç»„æˆä¸€ä¸ªå­ä»»åŠ¡ï¼Œå‘½ä»¤ç¤ºä¾‹ï¼š
```bash
ais_bench --models vllm_api_general_chat vllm_api_stream_chat --datasets gsm8k_gen_4_shot_cot_str aime2024_gen_0_shot_chat_prompt
```
ä¸Šè¿°å‘½ä»¤æŒ‡å®šäº†2ä¸ªæ¨¡å‹ä»»åŠ¡ï¼ˆ`vllm_api_general_chat` `vllm_api_stream_chat`ï¼‰å’Œ2ä¸ªæ•°æ®é›†ä»»åŠ¡ï¼ˆ`gsm8k_gen_4_shot_cot_str` `aime2024_gen_0_shot_chat_prompt`ï¼‰ï¼Œå°†æ‰§è¡Œä»¥ä¸‹4ä¸ªç»„åˆç²¾åº¦æµ‹è¯•ä»»åŠ¡ï¼š

+ [vllm_api_general_chat](https://github.com/AISBench/benchmark/tree/master/ais_bench/benchmark/configs/models/vllm_api/vllm_api_general_chat.py)æ¨¡å‹ä»»åŠ¡ + [gsm8k_gen_4_shot_cot_str](https://github.com/AISBench/benchmark/tree/master/ais_bench/benchmark/configs/datasets/gsm8k/gsm8k_gen_4_shot_cot_str.py) æ•°æ®é›†ä»»åŠ¡
+ [vllm_api_general_chat](https://github.com/AISBench/benchmark/tree/master/ais_bench/benchmark/configs/models/vllm_api/vllm_api_general_chat.py)æ¨¡å‹ä»»åŠ¡ + [aime2024_gen_0_shot_chat_prompt](https://github.com/AISBench/benchmark/tree/master/ais_bench/benchmark/configs/datasets/aime2024/aime2024_gen_0_shot_chat_prompt.py) æ•°æ®é›†ä»»åŠ¡
+ [vllm_api_stream_chat](https://github.com/AISBench/benchmark/tree/master/ais_bench/benchmark/configs/models/vllm_api/vllm_api_stream_chat.py)æ¨¡å‹ä»»åŠ¡ + [gsm8k_gen_4_shot_cot_str](https://github.com/AISBench/benchmark/tree/master/ais_bench/benchmark/configs/datasets/gsm8k/gsm8k_gen_4_shot_cot_str.py) æ•°æ®é›†ä»»åŠ¡
+ [vllm_api_stream_chat](https://github.com/AISBench/benchmark/tree/master/ais_bench/benchmark/configs/models/vllm_api/vllm_api_stream_chat.py)æ¨¡å‹ä»»åŠ¡ + [aime2024_gen_0_shot_chat_prompt](https://github.com/AISBench/benchmark/tree/master/ais_bench/benchmark/configs/datasets/aime2024/aime2024_gen_0_shot_chat_prompt.py) æ•°æ®é›†ä»»åŠ¡

#### ä¿®æ”¹ä»»åŠ¡å¯¹åº”çš„é…ç½®æ–‡ä»¶
æ¨¡å‹ä»»åŠ¡å’Œæ•°æ®é›†ä»»åŠ¡å¯¹åº”çš„é…ç½®æ–‡ä»¶å®é™…è·¯å¾„é€šè¿‡æ‰§è¡ŒåŠ `--search`å‘½ä»¤æŸ¥è¯¢ï¼š
```bash
ais_bench --models vllm_api_general_chat vllm_api_stream_chat --datasets gsm8k_gen_4_shot_cot_str aime2024_gen_0_shot_chat_prompt --search
```
æŸ¥è¯¢åˆ°å¦‚ä¸‹é…ç½®æ–‡ä»¶éœ€è¦ä¿®æ”¹ï¼š
```bash
â•’â•â•â•â•â•â•â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â••
â”‚ Task Type   â”‚ Task Name                       â”‚ Config File Path                                                                                                                  â”‚
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¡
â”‚ --models    â”‚ vllm_api_general_chat           â”‚ /your_workspace/benchmark_test/ais_bench/benchmark/configs/models/vllm_api/vllm_api_general_chat.py                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ --models    â”‚ vllm_api_stream_chat            â”‚ /your_workspace/benchmark_test/ais_bench/benchmark/configs/models/vllm_api/vllm_api_stream_chat.py                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ --datasets  â”‚ gsm8k_gen_4_shot_cot_str        â”‚ /your_workspace/benchmark_test/ais_bench/benchmark/configs/datasets/gsm8k/gsm8k_gen_4_shot_cot_str.py                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ --datasets  â”‚ aime2024_gen_0_shot_chat_prompt â”‚ /your_workspace/benchmark_test/ais_bench/benchmark/configs/datasets/aime2024/aime2024_gen_0_shot_chat_prompt.py                   â”‚
â•˜â•â•â•â•â•â•â•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•›
```
- å‚è€ƒğŸ“š [æœåŠ¡åŒ–æ¨ç†åç«¯é…ç½®å‚æ•°è¯´æ˜](../all_params/models.md#æœåŠ¡åŒ–æ¨ç†åç«¯é…ç½®å‚æ•°è¯´æ˜)æŒ‰ç…§å®é™…æƒ…å†µé…ç½®æ¨¡å‹ä»»åŠ¡`vllm_api_general_chat`å’Œ`vllm_api_stream_chat`å¯¹åº”çš„é…ç½®æ–‡ä»¶ã€‚
- å‚è€ƒğŸ“š [é…ç½®å¼€æºæ•°æ®é›†](../all_params/datasets.md#é…ç½®å¼€æºæ•°æ®é›†)æŒ‰ç…§å®é™…æƒ…å†µé…ç½®æ•°æ®é›†ä»»åŠ¡`gsm8k_gen_4_shot_cot_str`å’Œ`aime2024_gen_0_shot_chat_prompt`å¯¹åº”çš„é…ç½®æ–‡ä»¶ã€‚**æ³¨**ï¼šå¦‚æœæ•°æ®é›†æ”¾åœ¨é»˜è®¤ç›®å½• `ais_bench/datasets/`ä¸‹ï¼Œåˆ™ä¸€èˆ¬ä¸éœ€è¦é…ç½®

#### æ‰§è¡Œè¯„æµ‹å‘½ä»¤

æ‰§è¡Œå‘½ä»¤ï¼š

```bash
ais_bench --models vllm_api_general_chat vllm_api_stream_chat --datasets gsm8k_gen_4_shot_cot_str aime2024_gen_0_shot_chat_prompt
```

æ‰§è¡Œè¿‡ç¨‹ä¸­ä¼šåœ¨ğŸ“š [`--work-dir`](../all_params/cli_args.md#å…¬å…±å‚æ•°)è·¯å¾„ï¼ˆé»˜è®¤æ˜¯`outputs/default/`ï¼‰ä¸‹åˆ›å»ºæ—¶é—´æˆ³ç›®å½•ç”¨äºä¿å­˜æ‰§è¡Œç»†èŠ‚ã€‚

ä»»åŠ¡ç»“æŸåç»“æœå‘ˆç°çš„æ‰“å±æ—¥å¿—ç¤ºä¾‹å¦‚ä¸‹ï¼š

```bash
dataset    version    metric    mode      vllm-api-general-chat    vllm-api-stream-chat
---------  ---------  --------  ------  -----------------------  ----------------------
gsm8k      84f965     accuracy  gen                        56.70                    55.97
aime2024   604a78     accuracy  gen                        50.00                    50.00
```

åŒæ—¶æœ€ç»ˆç”Ÿæˆçš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š

```bash
# output/defaultä¸‹
20250628_172032/     # ä»»åŠ¡åˆ›å»ºæ—¶é—´å¯¹åº”çš„è¾“å‡ºç›®å½•
â”œâ”€â”€ configs          # æ¨¡å‹ä»»åŠ¡ã€æ•°æ®é›†ä»»åŠ¡å’Œç»“æ„å‘ˆç°ä»»åŠ¡å¯¹åº”çš„é…ç½®æ–‡ä»¶åˆæˆçš„ä¸€ä¸ªé…ç½®ä»¶
â”‚Â Â  â””â”€â”€ 20250628_172032_4469.py
â”œâ”€â”€ logs             # åŒ…å«æ¨ç†ä¸ç²¾åº¦è¯„ä¼°é˜¶æ®µçš„æ—¥å¿—
â”‚Â Â  â”œâ”€â”€ eval         # ç²¾åº¦è®¡ç®—é˜¶æ®µæ—¥å¿—
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ vllm-api-general-chat
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ aime2024.out
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ gsm8k.out
â”‚Â Â  â”‚Â Â  â””â”€â”€ vllm-api-stream-chat
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ aime2024.out
â”‚Â Â  â”‚Â Â      â””â”€â”€ gsm8k.out
â”‚Â Â  â””â”€â”€ infer        # æ¨ç†é˜¶æ®µæ—¥å¿—
â”‚Â Â      â”œâ”€â”€ vllm-api-general-chat
â”‚Â Â      â”‚Â Â  â”œâ”€â”€ aime2024.out
â”‚Â Â      â”‚Â Â  â””â”€â”€ gsm8k.out
â”‚Â Â      â””â”€â”€ vllm-api-stream-chat
â”‚Â Â          â”œâ”€â”€ aime2024.out
â”‚Â Â          â””â”€â”€ gsm8k.out
â”œâ”€â”€ predictions      # æ¨ç†ç»“æœæ–‡ä»¶ï¼Œè®°å½•æ¯æ¡è¯·æ±‚çš„è¾“å…¥ã€æ¨¡å‹è¾“å‡ºåŠå‚è€ƒç­”æ¡ˆï¼ˆç”¨äºç²¾åº¦è®¡ç®—ï¼‰
â”‚Â Â  â”œâ”€â”€ vllm-api-general-chat
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ aime2024.json
â”‚Â Â  â”‚Â Â  â””â”€â”€ gsm8k.json
â”‚Â Â  â””â”€â”€ vllm-api-stream-chat
â”‚Â Â      â”œâ”€â”€ aime2024.json
â”‚Â Â      â””â”€â”€ gsm8k.json
â”œâ”€â”€ results         # åŸºäº predictions ç”Ÿæˆçš„ç²¾åº¦è¯„ä¼°ç»“æœ
â”‚Â Â  â”œâ”€â”€ vllm-api-general-chat
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ aime2024.json
â”‚Â Â  â”‚Â Â  â””â”€â”€ gsm8k.json
â”‚Â Â  â””â”€â”€ vllm-api-stream-chat
â”‚Â Â      â”œâ”€â”€ aime2024.json
â”‚Â Â      â””â”€â”€ gsm8k.json
â””â”€â”€ summary        # ç²¾åº¦ç»“æœçš„æ±‡æ€»è§†å›¾ï¼ŒåŒ…å« CSVã€Markdown å’Œ TXT æ ¼å¼
    â”œâ”€â”€ summary_20250628_172032.csv
    â”œâ”€â”€ summary_20250628_172032.md
    â””â”€â”€ summary_20250628_172032.txt
```
### å¤šä»»åŠ¡å¹¶è¡Œæµ‹è¯„
é»˜è®¤æƒ…å†µä¸‹ï¼Œå¤šä¸ªå­ä»»åŠ¡é‡‡ç”¨ä¸²è¡Œæ‰§è¡Œï¼Œå•ä¸ªä»»åŠ¡å†…é»˜è®¤å¼€å¯Continous Batchï¼Œä¼šæ ¹æ®ç”¨æˆ·é…ç½®çš„æœ€å¤§å¹¶å‘æ‹‰èµ·å¤šä¸ªè¿›ç¨‹å‘é€å’Œå¤„ç†è¯·æ±‚ï¼Œå…è®¸é…ç½®è¾ƒå¤§çš„å¹¶å‘ã€‚åœ¨å•ä¸ªä»»åŠ¡å¹¶å‘è¾ƒå°æ—¶ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®ğŸ“š [`--max-num-workers`](../all_params/cli_args.md#ç²¾åº¦æµ‹è¯„å‚æ•°)å‚æ•°å®ç°å¤šä»»åŠ¡å¹¶è¡Œï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š

```bash
ais_bench --models vllm_api_general_chat vllm_api_stream_chat --datasets gsm8k_gen_4_shot_cot_str aime2024_gen_0_shot_chat_prompt --max-num-workers 4
```
ç¤ºä¾‹ä¸­æŒ‡å®šä»»åŠ¡æœ€å¤§å¹¶å‘æ•°ä¸º4ï¼Œå››ä¸ªå­ä»»åŠ¡å°†ä¼šåŒæ—¶æ‰§è¡Œï¼Œå¯ä»¥åœ¨å‘½ä»¤è¡Œçœ‹æ¿ä¸Šçœ‹åˆ°ï¼š
```
Base path of result&log : outputs/default/20251106_113926
Task Progress Table (Updated at: 2025-11-06 11:39:58)
Page: 1/1  Total 5 rows of data
Press Up/Down arrow to page,  'P' to PAUZE/RESUME screen refresh, 'Ctrl + C' to exit

+--------------------------------+-----------+----------------------------------------------------+-------------+-------------+-----------------------------------------------+---------------------------------------------------+
| Task Name                      |   Process | Progress                                           | Time Cost   | Status      | Log Path                                      | Extend Parameters                                 |
+================================+===========+====================================================+=============+=============+===============================================+===================================================+
| vllm-api-general-chat/gsm8k    |   1250142 | [                              ] 5/1319 [5.0 it/s] | 0:00:07     | inferencing | logs/infer/vllm-api-general-chat/gsm8k.out    | {'POST': 10, 'RECV': 5, 'FINISH': 5, 'FAIL': 0}   |
+--------------------------------+-----------+----------------------------------------------------+-------------+-------------+-----------------------------------------------+---------------------------------------------------+
| vllm-api-general-chat/aime2024 |   1250139 | [#####                         ] 5/30 [5.0 it/s]   | 0:00:07     | inferencing | logs/infer/vllm-api-general-chat/aime2024.out | {'POST': 10, 'RECV': 5, 'FINISH': 5, 'FAIL': 0}   |
+--------------------------------+-----------+----------------------------------------------------+-------------+-------------+-----------------------------------------------+---------------------------------------------------+
| vllm-api-stream-chat/gsm8k     |   1250143 | [                              ] 5/1319 [5.0 it/s] | 0:00:07     | inferencing | logs/infer/vllm-api-stream-chat/gsm8k.out     | {'POST': 10, 'RECV': 5, 'FINISH': 5, 'FAIL': 0}   |
+--------------------------------+-----------+----------------------------------------------------+-------------+-------------+-----------------------------------------------+---------------------------------------------------+
| vllm-api-stream-chat/aime2024  |   1250138 | [###############               ] 15/30 [5.0 it/s]  | 0:00:07     | inferencing | logs/infer/vllm-api-stream-chat/aime2024.out  | {'POST': 20, 'RECV': 15, 'FINISH': 15, 'FAIL': 0} |
+--------------------------------+-----------+----------------------------------------------------+-------------+-------------+-----------------------------------------------+---------------------------------------------------+

```

ç”Ÿæˆç»“æœä¸[å¤šä»»åŠ¡æµ‹è¯„](#å¤šä»»åŠ¡æµ‹è¯„)ç¤ºä¾‹ä¸€è‡´ã€‚


### ä¸­æ–­ç»­æµ‹ & å¤±è´¥ç”¨ä¾‹é‡æµ‹
åœ¨æµ‹è¯„è¿‡ç¨‹ä¸­å‘ç”Ÿæ„å¤–ä¸­æ–­æˆ–æœåŠ¡å™¨å¼‚å¸¸å¯¼è‡´çš„æ¨ç†ä»»åŠ¡å¤±è´¥æ—¶ï¼Œå¯é€šè¿‡`--reuse`å¼€å¯æ–­ç‚¹ç®¡ç†åŠŸèƒ½å®ç°ä»»åŠ¡ç»­æµ‹ï¼Œäº¦æ”¯æŒä»…å¯¹å¤±è´¥ç”¨ä¾‹è¿›è¡Œè‡ªåŠ¨é‡æµ‹ï¼Œæ— éœ€é‡å¤è¿è¡Œå…¨éƒ¨ä»»åŠ¡ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š

1ã€å‡è®¾ç”¨æˆ·ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤é¦–æ¬¡æ‰§è¡Œæ¨ç†æµ‹è¯„ï¼Œè‹¥ç”±äºä»»åŠ¡å¼‚å¸¸é€€å‡ºå¯¼è‡´çš„ä»»åŠ¡ä¸­æ–­æˆ–ç”±äºæœåŠ¡ç«¯å¼‚å¸¸å¯¼è‡´éƒ¨åˆ†è¯·æ±‚å¤±è´¥
```bash
ais_bench --models vllm_api_general_chat --datasets demo_gsm8k_gen_4_shot_cot_chat_prompt
```
æ­¤æ—¶éƒ¨åˆ†æ¨ç†ç»“æœä¼šè¢«ä¿å­˜ä¸‹æ¥ï¼Œåœ¨ğŸ“š [`--work-dir`](../all_params/cli_args.md#å…¬å…±å‚æ•°)ç”Ÿæˆå¦‚ä¸‹æ–‡ä»¶å†…å®¹ï¼š

```bash
# output/defaultä¸‹
20250628_151326/ # æµ‹è¯•ä»»åŠ¡åˆ›å»ºçš„æ—¶é—´æˆ³ç›®å½•
â”œâ”€â”€ configs # æ¨¡å‹ä»»åŠ¡ã€æ•°æ®é›†ä»»åŠ¡å’Œç»“æ„å‘ˆç°ä»»åŠ¡å¯¹åº”çš„é…ç½®æ–‡ä»¶åˆæˆçš„ä¸€ä¸ªé…ç½®
â”‚Â Â  â””â”€â”€ 20250628_151326_29317.py
â”œâ”€â”€ logs # æ‰§è¡Œè¿‡ç¨‹ä¸­æ—¥å¿—ï¼Œå‘½ä»¤ä¸­å¦‚æœåŠ --debugï¼Œä¸ä¼šæœ‰è¿‡ç¨‹æ—¥å¿—è½ç›˜ï¼ˆéƒ½ç›´æ¥æ‰“å°å‡ºæ¥äº†ï¼‰
â”‚Â Â  â””â”€â”€ infer # æ¨ç†é˜¶æ®µæ—¥å¿—
â””â”€â”€ predictions # æ¨ç†ç»“æœç›®å½•ï¼Œè®°å½•æ¯æ¡è¯·æ±‚çš„è¾“å…¥ã€æ¨¡å‹è¾“å‡ºåŠç­”æ¡ˆï¼ˆç”¨äºç²¾åº¦è¯„ä¼°ï¼‰
 Â Â  â””â”€â”€ vllm-api-general-chat
        â””â”€â”€ tmp_demo_gsm8k   # å·²å®Œæˆè¯·æ±‚çš„æ¨ç†è¾“å‡º
                â””â”€â”€ tmp_0_2766386_1749107195.json   # ç¼“å­˜æ–‡ä»¶ï¼Œå‘½åæ ¼å¼ä¸ºï¼štmp_{ä»»åŠ¡è¿›ç¨‹ID}_{è¿›ç¨‹ç¼–å·}_{æ—¶é—´æˆ³}.json
```
2ã€é€šè¿‡`--reuse`å‚æ•°æŒ‡å®šä»»åŠ¡æ—¶é—´æˆ³ç›®å½•ç»­æ¨ï¼š
```bash
ais_bench --models vllm_api_general --datasets gsm8k_gen --reuse 20250628_151326
```
æ—¥å¿—ä¸­ä¼šæ‰“å°å¦‚ä¸‹å†…å®¹ï¼Œæç¤ºç»­æ¨ä»»åŠ¡å¼€å¯ï¼š
```bash
02/20 13:14:15 - AISBench - INFO - Found 10 tmp items, run infer task from the last interrupted position
```
ç»­æ¨ç»“æŸåï¼Œä¼šé‡æ–°æ‰€æœ‰è¯·æ±‚çš„ç²¾åº¦ç»“æœå¹¶æ‰“å°ï¼Œç”Ÿæˆç»“æœä¸ğŸ“š [å¿«é€Ÿå…¥é—¨](../../get_started/quick_start.md)ç¤ºä¾‹ä¸€è‡´ã€‚

> âš ï¸ æ³¨æ„ï¼šä¸­æ–­ç»­æµ‹ä¸å¤±è´¥é‡æµ‹å¯èƒ½æ”¹å˜è¯·æ±‚é¡ºåºï¼Œå¯èƒ½å¼•å‘ç»“æœå¾®å°æ³¢åŠ¨ã€‚

ğŸ’¡[å¤šä»»åŠ¡æµ‹è¯„](#å¤šä»»åŠ¡æµ‹è¯„) ä¹Ÿæ”¯æŒå…¨é‡å’Œéƒ¨åˆ†ä»»åŠ¡çš„ä¸­æ–­ç»­æµ‹ & å¤±è´¥ç”¨ä¾‹é‡æµ‹ã€‚
ä¾‹å¦‚ï¼Œæ‰§è¡Œå¦‚ä¸‹å¤šä»»åŠ¡è¯„æµ‹å‘½ä»¤å‡ºç°ä¸­æ–­ï¼š
```bash
ais_bench --models vllm_api_general_chat vllm_api_stream_chat --datasets gsm8k_gen_4_shot_cot_str aime2024_gen_0_shot_chat_prompt
```
é€šè¿‡å¦‚ä¸‹æ–¹å¼å¯¹å…¨é‡ä»»åŠ¡ä¸­æ–­ç»­æµ‹ï¼š
```bash
ais_bench --models vllm_api_general_chat vllm_api_stream_chat --datasets gsm8k_gen_4_shot_cot_str aime2024_gen_0_shot_chat_prompt --reuse 20250628_151326
```
ä¹Ÿå¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼ä»…å¯¹éƒ¨åˆ†ä»»åŠ¡ä¸­æ–­ç»­æµ‹ï¼š
```bash
# ä»…å¯¹ vllm_api_general_chat + gsm8k_gen_4_shot_cot_str ä»»åŠ¡ä¸­æ–­ç»­æµ‹
ais_bench --models vllm_api_general_chat --datasets gsm8k_gen_4_shot_cot_str --reuse 20250628_151326
# å¯¹vllm_api_general_chat + gsm8k_gen_4_shot_cot_str, vllm_api_general_chat + aime2024_gen_0_shot_chat_promptsä¸¤ä¸ªä»»åŠ¡ç»­æµ‹
ais_bench --models vllm_api_general_chat --datasets gsm8k_gen_4_shot_cot_str aime2024_gen_0_shot_chat_prompt --reuse 20250628_151326
# å¯¹vllm_api_general_chat + aime2024_gen_0_shot_chat_prompts, vllm_api_stream_chat + aime2024_gen_0_shot_chat_promptsä¸¤ä¸ªä»»åŠ¡ç»­æµ‹
ais_bench --models vllm_api_general_chat vllm_api_stream_chat --datasets aime2024_gen_0_shot_chat_prompt --reuse 20250628_151326
```

### åˆå¹¶å­æ•°æ®é›†æ¨ç†
éƒ¨åˆ†æ•°æ®é›†ä¼šåˆ†ç±»æˆä¸åŒçš„å­æ•°æ®é›†ï¼Œåœ¨æ¨ç†æ—¶ä¼šè¢«åˆ’åˆ†ä¸ºå¤šä¸ªå­ä»»åŠ¡è¡Œæ¨ç†ï¼Œä¾‹å¦‚ï¼šğŸ“š [MMLU](https://github.com/AISBench/benchmark/tree/master/ais_bench/benchmark/configs/datasets/mmlu/README.md)ã€ğŸ“š [CEVAL](https://github.com/AISBench/benchmark/tree/master/ais_bench/benchmark/configs/datasets/ceval/README.md)ã€‚AISBench Benchmarkæ”¯æŒå°†å­˜åœ¨å¤šä¸ªå°è§„æ¨¡æ•°æ®é›†çš„æ•°æ®é›†åˆå¹¶ä¸ºä¸€ä¸ªä»»åŠ¡è¿›è¡Œç»Ÿä¸€æµ‹è¯„ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š
```bash
ais_bench --models vllm_api_general --datasets ceval_gen --merge-ds
```
> âš ï¸ æ³¨æ„ï¼šåˆå¹¶æ¨¡å¼ä¸‹å°†åªç”Ÿæˆæ•´ä½“ç»“æœï¼Œå­æ•°æ®é›†ç²¾åº¦ä¸å†å•ç‹¬åˆ—å‡ºã€‚åŒæ—¶å¯¹åˆå¹¶æ¨¡å¼ä¸‹ä¸­æ–­æˆ–å¤±è´¥çš„æ¨ç†ç»“æœè¿›è¡Œæ•°æ®é›†ä¸­æ–­ç»­æµ‹ & å¤±è´¥ç”¨ä¾‹é‡æµ‹ä¹Ÿå¿…é¡»åœ¨å‘½ä»¤ä¸­åŠ `--merge-ds`

### å›ºå®šè¯·æ±‚æ•°æµ‹è¯„

å½“é›†è§„æ¨¡è¿‡å¤§ï¼Œåªæƒ³é’ˆæ•°æ®å¯¹éƒ¨åˆ†æ ·æœ¬æ‰§è¡Œæ€§èƒ½æµ‹è¯•æ—¶ï¼Œå¯ä½¿ç”¨ ğŸ“š [`--num-prompts`](../all_params/cli_args.md#æ€§èƒ½æµ‹è¯„å‚æ•°) å‚æ•°æŒ‡å®šè¯»å–çš„æ•°æ®æ¡æ•°ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š
```bash
ais_bench --models vllm_api_stream_chat --datasets demo_gsm8k_gen_4_shot_cot_chat_prompt --num-prompts 1
```
ä¸Šè¿°å‘½ä»¤ä»…å¯¹ç¤ºä¾‹æ•°æ®é›†ä¸­çš„ç¬¬ä¸€æ¡è®°å½•è¿›è¡Œæ¨ç†å¹¶åªå¯¹è¿™ä¸€æ¡è®°å½•è¿›è¡Œç²¾åº¦è¯„ä¼°ã€‚
> âš ï¸ æ³¨æ„ï¼šå½“å‰æ•°æ®é›†ä¼šæŒ‰ç…§é»˜è®¤é˜Ÿåˆ—é¡ºåºä¾æ¬¡è¯»å–ï¼Œä¸æ”¯æŒéšæœºæŠ½æ ·æˆ–æ‰“ä¹±é¡ºåºã€‚

### å¤šæ¬¡ç‹¬ç«‹é‡å¤æ¨ç†

> è¯¥åŠŸèƒ½å¼€å¯åï¼Œç”±äº`æ•°æ®é›†`/`è¯·æ±‚æ•°é‡`å°†æŒ‰ç…§`æ•°æ®ç‚¹çº§åˆ«`æˆå€æ‰©å……ï¼Œä»è€Œå¯¼è‡´æ¨ç†æ—¶é—´æ˜¾è‘—å˜é•¿ï¼Œä¸”ä½¿ç”¨å†…å­˜æ˜¾è‘—æé«˜ã€‚è¯·åœ¨é˜…è¯» ğŸ“š [ç²¾åº¦è¯„æµ‹åœºæ™¯ï¼šè¯„ä¼°æŒ‡æ ‡è§£æ](../results_intro/accuracy_metric.md) åï¼Œ**ç¡®è®¤å½“å‰åœºæ™¯æ˜¯å¦éœ€è¦å¼€å¯è¯¥åŠŸèƒ½**ã€‚

è¯¥åœºæ™¯æ—¨åœ¨ä»å¯é æ€§ã€ç¨³å®šæ€§ã€æ•´ä½“å‡†ç¡®æ€§ç­‰å¤šç»´åº¦æ¢ç©¶æ¨¡å‹èƒ½åŠ›ï¼Œå¼€å¯æ–¹å¼ä¸ºï¼šåœ¨ `æœåŠ¡åŒ–æ¨ç†åç«¯é…ç½®å‚æ•°` ä¸­çš„è¶…å‚ `generation_kwargs` ä¸­é…ç½® ğŸ”—[`num_return_sequences`å‚æ•°æ•°å€¼](../all_params/models.md#æœåŠ¡åŒ–æ¨ç†åç«¯é…ç½®å‚æ•°è¯´æ˜)ï¼Œæ ¼å¼æŒ‰ç…§ä»¥ä¸‹ç¤ºä¾‹å†…å®¹ï¼ˆå–å€¼ä»…ä¾›å‚è€ƒï¼‰ï¼š

```python
models = [
    dict(
        ... # å…¶å®ƒå‚æ•°
        generation_kwargs = dict(
            num_return_sequences = 5, # å…·ä½“ä½œç”¨å’Œçº¦æŸè¯·å‚è€ƒæ–‡æ¡£ accuracy_metric.md
            ... # å…¶å®ƒå‚æ•°
        ),
        ...
    )
]
```

ç²¾åº¦è¯„ä¼°é˜¶æ®µç»“æŸåï¼Œç»“æœä¼šè®°å½•åœ¨æ—¥å¿—å’Œæ‰“å±åœ¨è¿è¡Œçª—å£ï¼Œæ ¼å¼æŒ‰ç…§ä»¥ä¸‹ç¤ºä¾‹å†…å®¹ï¼ˆæ•°æ®ä»…ä¾›å‚è€ƒï¼‰ï¼š

```bash
| dataset   | version   | metric                    | mode | vllm-api-stream-chat |
| --------- | --------- | ------------------------- | ---- | -------------------- |
| aime2024  | 604a78    | accuracy (5 runs average) | gen  | 18.00                |
| aime2024  | 604a78    | avg@5                     | gen  | 18.00                |
| aime2024  | 604a78    | pass@5                    | gen  | 53.33                |
| aime2024  | 604a78    | cons@5                    | gen  | 13.33                |
```

ä¸Šè¡¨ä¸­ï¼Œ**å…·ä½“æŒ‡æ ‡è§£è¯»**å’Œ**å‚æ•°çº¦æŸ** è¯·å‚è€ƒğŸ“š [ç²¾åº¦è¯„æµ‹åœºæ™¯ï¼šè¯„ä¼°æŒ‡æ ‡è§£æ](accuracy_metric.md)

## å…¶ä»–åŠŸèƒ½åœºæ™¯
### æ¨ç†ç»“æœé‡è¯„ä¼°
ä¸»è¦åŠŸèƒ½åœºæ™¯ä¸‹è¯„æµ‹ä»»åŠ¡çš„æ‰§è¡Œæµç¨‹åŒ…æ‹¬å®Œæ•´çš„æ¨ç† â†’ è¯„ä¼° â†’ æ±‡æ€»æµç¨‹ï¼š
```mermaid
graph LR;
  A[åŸºäºç»™å®šæ•°æ®é›†æ‰§è¡Œæ¨ç†] --> B((æ¨ç†ç»“æœ))
  B --> C[åŸºäºæ¨ç†ç»“æœè¿›è¡Œè¯„ä¼°]
  C --> D((ç²¾åº¦æ•°æ®))
  D --> E[åŸºäºç²¾åº¦æ•°æ®ç”Ÿæˆæ±‡æ€»æŠ¥å‘Š]
  E --> F((å‘ˆç°ç»“æœ))
```
æ•´ä¸ªæ‰§è¡Œæµç¨‹ä¸­çš„æ¯ä¸ªç¯èŠ‚éƒ½æ˜¯ç‹¬ç«‹è§£è€¦çš„ï¼Œæ¨ç†ç»“æœæ˜¯å¯ä»¥åå¤é‡è¯„ä¼°çš„ï¼Œå¦‚æœç¬¬ä¸€æ¬¡æ‰§è¡Œç²¾åº¦è¯„æµ‹çš„åˆ°çš„ç²¾åº¦æ•°æ®æœ‰é—®é¢˜ï¼ˆæ¯”å¦‚æ²¡æœ‰å‡†ç¡®å¾—æå–å‡ºresponseä¸­æœ‰ä»·å€¼çš„å†…å®¹ï¼‰ï¼Œå°±å¯ä»¥ä¿®æ”¹ç­”æ¡ˆæå–çš„æ–¹å¼ï¼Œæ‰§è¡Œæ¨ç†ç»“æœé‡è¯„ä¼°ã€‚å…·ä½“æ“ä½œå¦‚ä¸‹ã€‚

å‡è®¾ä¸Šæ¬¡æ‰§è¡Œæ€§èƒ½æµ‹è¯„çš„å‘½ä»¤æ˜¯ï¼š
```bash
ais_bench --models vllm_api_general_chat --datasets demo_gsm8k_gen_4_shot_cot_chat_prompt
```
åŒæ—¶æç¤ºè½ç›˜çš„æ—¶é—´æˆ³ä¸º`20250628_151326`ï¼Œä½†æ˜¯8æ¡caseçš„ç²¾åº¦æ•°æ®æœ‰é—®é¢˜ï¼Œåªå¾—äº†0åˆ†ï¼š
```bash
dataset                 version  metric   mode  vllm_api_general_chat
----------------------- -------- -------- ----- ----------------------
demo_gsm8k              401e4c   accuracy gen                   00.00
```
æŸ¥çœ‹`20250628_151326/predictions/vllm-api-general-chat/gsm8k.json`ï¼Œå‘ç°æ¨ç†ç»“æœä¸­å®é™…ç»™äº†æ­£ç¡®çš„ç­”æ¡ˆã€‚è¿™ä¸ªæ—¶å€™å¯ä»¥ä¿®æ”¹`gsm8k_gen_4_shot_cot_chat_prompt`æ•°æ®é›†ä»»åŠ¡å¯¹åº”çš„é…ç½®æ–‡ä»¶ï¼Œé€šè¿‡`--search`å‘½ä»¤æŸ¥è¯¢å¯¹åº”çš„é…ç½®æ–‡ä»¶è·¯å¾„ï¼š
```bash
ais_bench --datasets gsm8k_gen_4_shot_cot_chat_prompt --search
```
å¾—åˆ°é…ç½®æ–‡ä»¶è·¯å¾„ï¼š
```bash
â•’â•â•â•â•â•â•â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â••
â”‚ Task Type   â”‚ Task Name                             â”‚ Config File Path                                                                                                                    â”‚
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•ªâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¡
â”‚ --datasets  â”‚ gsm8k_gen_4_shot_cot_chat_prompt â”‚ /your_workspace/ais_bench/benchmark/configs/datasets/gsm8k/gsm8k_gen_4_shot_cot_chat_prompt.py                                           â”‚
â•˜â•â•â•â•â•â•â•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•§â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•›

```
æ‰“å¼€`gsm8k_gen_4_shot_cot_chat_prompt.py`æ›¿æ¢æˆ–ä¿®æ”¹ç­”æ¡ˆçš„æå–å‡½æ•°
```python
# ......
from ais_bench.benchmark.datasets import GSM8KDataset, gsm8k_postprocess, gsm8k_dataset_postprocess, Gsm8kEvaluator
gsm8k_reader_cfg = dict(input_columns=['question'], output_column='answer')

# ......
gsm8k_eval_cfg = dict(evaluator=dict(type=Gsm8kEvaluator),
                      pred_role='BOT',
                      pred_postprocessor=dict(type=gsm8k_postprocess), # æ›¿æ¢æˆ–ä¿®æ”¹ç­”æ¡ˆçš„æå–å‡½æ•°çš„å®ç°
                      dataset_postprocessor=dict(type=gsm8k_dataset_postprocess))
# ......

```

å¯ä»¥åœ¨ç¬¬ä¸€æ¬¡ç²¾åº¦è¯„æµ‹å‘½ä»¤çš„åŸºç¡€ä¸Šå‡è®¾`--mode eval`å’Œ`--reuse {å¤ç”¨çš„æ¨ç†ç»“æœæ‰€åœ¨çš„æ—¶é—´æˆ³}`åå¤é‡è¯„ä¼°ï¼š
```bash
ais_bench --models vllm_api_general_chat --datasets demo_gsm8k_gen_4_shot_cot_chat_prompt --mode eval --reuse 20250628_151326

```